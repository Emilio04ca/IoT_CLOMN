<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <title>Registros</title>
</head>
<style>
    .center {
  display: block;
  margin-left: auto;
  margin-right: auto;
  width:200px; 
  height:200px;
}

</style>
<!-- amCharts javascript sources -->
<script type="text/javascript" src="https://www.amcharts.com/lib/3/amcharts.js"></script>
<script type="text/javascript" src="https://www.amcharts.com/lib/3/gauge.js"></script>
<script type="text/javascript" src="https://www.amcharts.com/lib/3/themes/dark.js"></script>


<!-- amCharts javascript code -->
<script>
var valor = +document.getElementById('numero').dataset.test;
  AmCharts.makeChart("chartdiv",
    {
      type: "gauge",
      marginBottom: 20,
      marginTop: 40,
      startDuration: 0,
      fontSize: 13,
      theme: "dark",
      arrows: [
        {
          id: "GaugeArrow-1",
          "value": valor
        }
      ],
      axes: [
        {
          axisThickness: 1,
          bottomText: valor + "%",
          bottomTextYOffset: -20,
          endValue: 100,
          id: "GaugeAxis-1",
          valueInterval: 10,
          bands: [
            {
              alpha: 0.7,
              color: "#00CC00",
              endValue: 70,
              id: "GaugeBand-1",
              startValue: 0
            },
            {
              alpha: 0.7,
              color: "#ffac29",
              endValue: 90,
              id: "GaugeBand-2",
              startValue: 70
            },
            {
              alpha: 0.7,
              color: "#ea3838",
              endValue: 100,
              id: "GaugeBand-3",
              innerRadius: "95%",
              startValue: 90
            }
          ]
        }
      ],
      allLabels: [],
      balloon: {},
      titles: []
    }
  );
</script>
</head>
<body>
  <tr></tr>
      <td id="numero" data-test>  <%= tablas[1].Porcentaje%></td>
  </tr>
  <div class="container">
    <div class="row g-5">
        <div class="col-md-4">
            <table class="table table-bordered tabla-hover table-dark table table-striped" >
                <thead>
                    <tr>
                        <th>Id_Modulo</th>
                        <th>Presencia</th>
                    </tr>
                </thead>
            <tbody>
                <% for(var i = 0; i < tablas.length; i++){  %>
                    <tr>
                        <td><%= tablas[i].Id_Modulo %></td>
                        <td><%= tablas[i].Presencia  %></td>
                    </tr>
                <% } %>
            </tbody>
        </table>
    </div>
    <div class="col-md-8">
        <div class="position-sticky" style="top: 2rem;">
            <div class="p-4 mb-8 bg-light rounded">
                <div class="card">
                    <div class="card-body">
                      <div id="chartdiv" style="width: 100%; height: 450px; background-color: #282828;" class="center" ></div>    
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>

</body> 
</html>